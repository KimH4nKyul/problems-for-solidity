# Day 3 사전 지식 정리

## [컴퓨터 공학 지식 정리]
- **상태 머신(State Machine)**: 시스템이 가질 수 있는 상태와 상태 간 전환 규칙을 정의한 모델입니다. 이번 금고는 `(잔액, 보류 요청 유무, readyAt)` 조합으로 상태가 나뉘며, 요청 → 대기 → 실행/취소의 유한한 흐름을 따릅니다. 상태 머신을 명확히 그리면 어떤 입력에서 어떤 함수가 허용되는지 한눈에 파악할 수 있습니다.
- **시간과 정수 타입**: `block.timestamp`는 초 단위 64비트 정수로 취급할 수 있습니다. 하지만 Solidity 기본은 `uint256`이므로, 더 작은 타입에 넣을 때는 형 변환을 명시해야 합니다. 오버플로가 발생하면 값이 잘못 되돌아갈 수 있으니 항상 범위를 확인하세요.
- **데이터 레이아웃과 가스**: `struct` 내부에서 순서를 잘 설계하면 저장 슬롯을 절약할 수 있습니다. 예를 들어 `uint64 readyAt`과 `address recipient`를 같은 슬롯에 배치하면 가스 비용을 줄일 수 있지만, 가독성과 학습 목적상 이번 과제에서는 명시적인 순서를 유지합니다.

## [금융 공학 지식]
- **타임락(Time Lock)**: 자산 이동을 즉시 허용하지 않고 일정 시간 지연을 부여하는 장치입니다. 의사결정 후 일정 기간 동안 커뮤니티가 감시하거나 사용자가 취소할 수 있도록 시간을 벌어 줍니다. 탈중앙 금융에서는 거버넌스 변경, 대규모 인출, 금고 해제 등에 타임락을 걸어 리스크를 줄입니다.
- **허용 목록(Allowlist)**: 특정 주소만 서비스에 접근할 수 있도록 한 목록입니다. 전통 금융의 KYC(신원 확인)처럼, 자격을 부여받은 고객만 자산을 예치하거나 인출하게 만드는 통제 장치입니다. 온체인에서는 수수료와 가스 비용, 목록 갱신 주기를 고민하며 설계해야 합니다.
- **대기 중 자산 관리**: 출금 요청을 받은 후 대기 상태로 두면, 그 자산은 실질적으로 “예약”된 것입니다. 중앙화 금융에서는 은행이 적립금을 따로 묶어 두듯, 스마트 컨트랙트에서도 잔액을 미리 차감하거나 재요청을 막아 동일한 자산을 두 번 소비하지 못하도록 설계해야 합니다.
